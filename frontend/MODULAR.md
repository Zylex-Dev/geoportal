# Модульная структура проекта

Этот проект использует модульную организацию файлов как для CSS, так и для HTML, что обеспечивает лучшую поддерживаемость и организацию кода.

## Модульная структура CSS

Стили разделены на логические модули по следующей структуре:

```
css/
├── base/              # Базовые стили и утилиты
│   ├── animations.css # Анимации и эффекты
│   ├── base.css       # Переменные, сброс стилей, базовая типографика
│   └── fonts.css      # Подключение шрифтов
│
├── layout/            # Компоненты макета
│   ├── layout.css     # Основная структура страницы (header, footer, main)
│   └── responsive.css # Медиа-запросы и адаптивность
│
├── components/        # Повторно используемые компоненты UI
│   ├── components.css # Кнопки, формы, общие UI элементы
│   └── modals.css     # Модальные окна
│
├── features/          # Функциональные модули
│   ├── auth/          # Аутентификация
│   │   └── auth.css   # Стили для форм входа, профиля пользователя
│   ├── map/           # Функционал карты
│   │   ├── layers.css # Слои карты и элементы управления слоями
│   │   ├── map.css    # Основные стили карты
│   │   └── popup.css  # Всплывающие окна на карте
│   └── tools/         # Инструменты
│       └── tools.css  # Инструменты и измерения
│
└── main.css           # Основной файл, импортирующий все модули
```

В HTML-коде подключается только `main.css`, который импортирует все остальные модули.

## Модульная структура HTML

HTML-код также разделен на компоненты:

```
templates/
├── components/         # Компоненты UI
│   ├── map.html        # Карта и связанные с ней элементы
│   └── sidebar.html    # Боковая панель с элементами управления
│
├── layout/             # Элементы макета
│   ├── header.html     # Шапка сайта
│   └── footer.html     # Подвал сайта
│
├── modals/             # Модальные окна
│   ├── about-modal.html      # О проекте
│   ├── login-modal.html      # Авторизация/регистрация
│   └── screenshot-modal.html # Снимок карты
│
├── head.html           # Мета-теги и подключение стилей
└── scripts.html        # Подключение JavaScript
```

## Процесс сборки

### Сборка HTML

Для сборки HTML-компонентов используется скрипт Python `build_html.py`:

```bash
./build_html.py
```

Скрипт объединяет все компоненты в один файл `index.html`.

### Docker сборка

В Dockerfile используется многоэтапная сборка:
1. На первом этапе собирается HTML из компонентов
2. На втором этапе создается итоговый образ с Nginx, который включает все необходимые файлы

## Преимущества модульной структуры

1. **Улучшенная поддерживаемость**: изменения в отдельных компонентах не влияют на другие части
2. **Удобство разработки**: проще находить нужные части кода
3. **Разделение ответственности**: каждый файл отвечает за определенную функциональность
4. **Командная работа**: разные разработчики могут работать над разными компонентами
5. **Повторное использование**: компоненты можно использовать в других проектах

## Внесение изменений

1. Изменяйте только соответствующие компоненты
2. После изменения HTML-компонентов запустите `build_html.py`
3. При развертывании в Docker, контейнер автоматически соберет HTML из компонентов 